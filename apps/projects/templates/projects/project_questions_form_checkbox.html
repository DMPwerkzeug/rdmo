{% load i18n %}

{% if is_set %}

    {% if attribute.is_collection %}

    <div class="input-group input-collection"
         ng-repeat="value in service.valueset.values[{{ attribute.id }}] track by $index" ng-hide="value.removed">

        {% for option in question.options.all %}
        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="service.valueset.values[{{ attribute.id }}][$index].text" value="{{ option.pk }}">
                {{ option.text }}
            </label>
        </div>
        {% endfor %}

        <div class="input-group-btn">
            <button type="button" class="btn btn-danger" tabindex="-1"
                    ng-click="service.removeValueSetValue({{ attribute.id }}, $index)">
                {% trans 'Remove' %}
            </button>
        </div>
    </div>

    {% else %}

    {% for option in question.options.all %}
    <div class="checkbox">
        <label>
            <input type="checkbox" ng-model="service.valueset.values[{{ attribute.id }}][0].text" value="{{ option.pk }}">
            {{ option.text }}
        </label>
    </div>
    {% endfor %}

    {% endif %}

{% else %}

    {% if attribute.is_collection %}

    <div class="input-group input-collection"
         ng-repeat="value in service.values track by $index" ng-hide="value.removed">

        {% for option in question.options.all %}
        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="service.values[$index].text" value="{{ option.pk }}">
                {{ option.text }}
            </label>
        </div>
        {% endfor %}

        <div class="input-group-btn">
            <button type="button" class="btn btn-danger" tabindex="-1"
                    ng-click="service.removeValue($index)">
                {% trans 'Remove' %}
            </button>
        </div>

    </div>

    {% else %}

    {% for option in question.options.all %}
    <div class="checkbox">
        <label>
            <input type="checkbox" ng-model="service.values[0].text" value="{{ option.pk }}">
            {{ option.text }}
        </label>
    </div>
    {% endfor %}

    {% endif %}

{% endif %}
