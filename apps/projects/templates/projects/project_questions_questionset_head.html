{% load i18n %}

    <div class="questionset-head">

        <div class="help-block">
            {% blocktrans %}
            Please fill out the form for each {$ service.name $}. The different {$ service.name_plural $} might be refererenced in later questions. You can add a new {$ service.name $} using the green button. Once created you can edit or delete them using the buttons in the top right corner.'
            {% endblocktrans %}
        </div>

        <div class="set-buttons" ng-hide="service.values">
            <button type="button" class="btn btn-success"
                ng-click="service.openValueSetModal(true)">
                {% blocktrans %}Add new {$ service.name $}{% endblocktrans %}
            </button>
        </div>

        <ul class="nav nav-tabs" ng-show="service.values">
            <li ng-class="{ active: valueset.values == service.values }"
                ng-repeat="valueset in service.valuesets"
                ng-hide="valueset.removed">
                <a href="" ng-click="service.values = valueset.values">
                    <span ng-hide="valueset.values[service.entity.title_attribute.id][0].text">
                        #{$ $index + 1 $}
                    </span>
                    <span ng-show="valueset.values[service.entity.title_attribute.id][0].text">
                        {$ valueset.values[service.entity.title_attribute.id][0].text $}
                    </span>
                </a>
            </li>
            <li>
                <a href="" class="add-valueset" ng-click="service.openValueSetModal(true)">
                    {% blocktrans %}Add new {$ service.name $}{% endblocktrans %}
                </a>
            </li>
        </ul>

        <div class="pull-right" ng-show="service.values">
            <a href="" class="small glyphicon glyphicon-pencil"
                title="{% blocktrans %}Update {$ service.name $}{% endblocktrans %}"
                ng-click="service.openValueSetModal(false)">
            </a>
            <a href="" class="small glyphicon glyphicon-trash"
                title="{% blocktrans %}Remove {$ service.name $}{% endblocktrans %}"
                ng-click="service.removeValueSet()">
            </a>
        </div>

    </div>
