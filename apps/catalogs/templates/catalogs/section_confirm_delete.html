{% extends 'core/page.html' %}
{% load i18n %}

{% block page %}

    <h2>{% trans 'Delete section' %}</h2>

    <p>
        {% blocktrans %}You are about to permanently delete the section <strong>{{ object }}</strong>.{% endblocktrans %}
    </p>

{% if section.subsections.all %}

    <p>
        {% trans 'This will also delete the following items:' %}
    </p>

    <ul>

{% for subsection in section.subsections.all %}

        <li>
            <strong>Subsection</strong> {{ subsection.title }}
            <ul>

{% for entity in subsection.entities.all %}
{% if entity.is_set %}

                <li>
                    <strong>QuestionSet</strong> {{ entity.questionset.title }}
                    <ul>

{% for question in entity.questionset.questions.all %}

                        <li><strong>Question</strong> {{ question.text }}</li>

{% endfor %}

                    </ul>
                </li>

{% elif not entity.has_set %}

                <li><strong>Question</strong> {{ entity.question.text }}</li>

{% endif %}
{% endfor %}

            </ul>
        </li>

{% endfor %}

    </ul>

{% endif %}

<p class="text-danger">
    {% trans 'This action cannot be undone!' %}
</p>

{% include 'core/_delete_form.html' with submit_value=_('Delete section') %}

{% endblock %}
